<?php

class AdminVista{
    function mostrarFormularioEdicion($autores, $libros) { 
        ?>
        <h1>Panel de Administración: Edición Masiva</h1>
        <p>Aquí puedes editar todos los elementos en un solo panel.</p>
        <hr>

        <h2>Edición de Autores</h2>
        
        <?php foreach ($autores as $autor): ?> 
        
            <h3>Autor: <?= htmlspecialchars($autor->nombre . ' ' . $autor->apellido) ?></h3>
            
            <form method="POST" action="route.php?action=editarAutor"> 
                            
                <input type="hidden" name="id_autor" value="<?= $autor->id_autor ?>">
                            
                <label for="nombre">Nombre:</label>
                <input type="text" name="nombre" value="<?= htmlspecialchars($autor->nombre) ?>" required><br><br>

                <label for="apellido">Apellido:</label>
                <input type="text" name="apellido" value="<?= htmlspecialchars($autor->apellido) ?>" required><br><br>

                <label for="nacionalidad">Nacionalidad:</label>
                <input type="text" name="nacionalidad" value="<?= htmlspecialchars($autor->nacionalidad ?? '') ?>"><br><br>

                <button type="submit">Guardar Cambios Autor</button>
                <a href="route.php?action=listarAutores">Cancelar</a>
            </form>
            <hr>
        
        <?php endforeach; ?>

        
        <h2 style="margin-top: 50px;">Edición de Libros</h2>
        
        <?php foreach ($libros as $libro): ?> 
        
            <h3>Libro: <?= htmlspecialchars($libro->titulo) ?></h3>
            
            <form method="POST" action="route.php?action=editarLibro"> 
                        
                <input type="hidden" name="id_libro" value="<?= $libro->id_libro ?>">
                        
                <label for="titulo">Titulo:</label>
                <input type="text" name="titulo" value="<?= htmlspecialchars($libro->titulo) ?>" required><br><br>

                <label for="genero">Género:</label>
                <input type="text" name="genero" value="<?= htmlspecialchars($libro->genero) ?>" required><br><br>

                <label for="anio_publicacion">Año de publicación:</label>
                <input type="number" name="anio_publicacion" value="<?= htmlspecialchars($libro->anio_publicacion ?? '') ?>"><br><br>
                        
                <label for="editorial">Editorial:</label>
                <input type="text" name="editorial" value="<?= htmlspecialchars($libro->editorial ?? '') ?>"><br><br> 
                
                <button type="submit">Guardar Cambios Libro</button>
                <a href="route.php?action=listarLibros">Cancelar</a>
            </form>
            <hr>
        
        <?php endforeach; ?>
        
        <?php
    }
}
